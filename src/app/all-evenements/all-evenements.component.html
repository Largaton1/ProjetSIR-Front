<br><br><br>
<h2 class="title">Listes des Événements</h2>
<h4 class="title2">Modifier automatiquement votre statut dans le champ action. </h4>
<br>
<div class="table-container">
  <table mat-table [dataSource]="evenements" class="mat-elevation-z8 full-width-table">

    <!-- Nom -->
    <ng-container matColumnDef="nomEvent">
      <th mat-header-cell *matHeaderCellDef> Nom Evenement</th>
      <td mat-cell *matCellDef="let event"> {{ event.nomEvent }} </td>
    </ng-container>

    <!-- Date -->
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef> Date </th>
      <td mat-cell *matCellDef="let event"> {{ event.date }} </td>
    </ng-container>

    <!-- Lieu -->
    <ng-container matColumnDef="lieu">
      <th mat-header-cell *matHeaderCellDef> Lieu </th>
      <td mat-cell *matCellDef="let event"> {{ event.lieu }} </td>
    </ng-container>

    <!-- Description -->
    <ng-container matColumnDef="description">
      <th mat-header-cell *matHeaderCellDef> Description </th>
      <td mat-cell *matCellDef="let event"> {{ event.description }} </td>
    </ng-container>

    <!-- Capacité -->
    <ng-container matColumnDef="capacite">
      <th mat-header-cell *matHeaderCellDef> Capacité </th>
      <td mat-cell *matCellDef="let event"> {{ event.capacite }} </td>
    </ng-container>

    <!-- Statut (avec style) -->
    <ng-container matColumnDef="statut">
      <th mat-header-cell *matHeaderCellDef> Statut </th>
      <td mat-cell *matCellDef="let event">
        <span [ngClass]="getStatutClass(event.statut)">
          {{ event.statut }}
        </span>
      </td>
    </ng-container>

    <!-- Action -->
    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> Action </th>
      <td mat-cell *matCellDef="let event">
        <mat-form-field appearance="fill">
          <mat-label>Modifier statut</mat-label>
          <mat-select [value]="event.statut" (selectionChange)="updateStatut(event, $event.value)">
            <mat-option value="Enattente">En attente</mat-option>
            <mat-option value="EnCours">En Cours</mat-option>
            <mat-option value="Termine">Terminé</mat-option>
            <mat-option value="Annule">Annulé</mat-option>
          </mat-select>
        </mat-form-field>
      </td>
    </ng-container>

    <!-- Header et lignes -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>

  <!-- Message si vide -->
  <h4 *ngIf="evenements.length === 0" class="no-event-msg">Aucun événement pour le moment.</h4>
</div>
